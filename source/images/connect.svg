<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: connect_flow Pages: 1 -->
<svg width="1283pt" height="692pt"
 viewBox="0.00 0.00 1282.57 691.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 687.6)">
<title>connect_flow</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-687.6 1278.5713,-687.6 1278.5713,4 -4,4"/>
<!-- qi -->
<g id="node1" class="node">
<title>qi</title>
<ellipse fill="#000000" stroke="#000000" cx="566.4346" cy="-681.8" rx="1.8" ry="1.8"/>
</g>
<!-- Stripe Connect -->
<g id="node4" class="node">
<title>Stripe Connect</title>
<polygon fill="none" stroke="#000000" points="616.0321,-643 516.8371,-643 516.8371,-607 616.0321,-607 616.0321,-643"/>
<text text-anchor="middle" x="566.4346" y="-620.8" font-family="Times,serif" font-size="14.00" fill="#000000">Stripe Connect</text>
</g>
<!-- qi&#45;&gt;Stripe Connect -->
<g id="edge1" class="edge">
<title>qi&#45;&gt;Stripe Connect</title>
<path fill="none" stroke="#000000" d="M566.4346,-679.9102C566.4346,-675.5478 566.4346,-664.2893 566.4346,-653.0942"/>
<polygon fill="#000000" stroke="#000000" points="569.9347,-653.0304 566.4346,-643.0304 562.9347,-653.0304 569.9347,-653.0304"/>
</g>
<!-- check_card_type -->
<g id="node2" class="node">
<title>check_card_type</title>
<polygon fill="none" stroke="#000000" points="426.4346,-389 327.4113,-371 426.4346,-353 525.4579,-371 426.4346,-389"/>
<text text-anchor="middle" x="426.4346" y="-366.8" font-family="Times,serif" font-size="14.00" fill="#000000">check_card_type</text>
</g>
<!-- Create source in the name of the connected account -->
<g id="node8" class="node">
<title>Create source in the name of the connected account</title>
<polygon fill="none" stroke="#000000" points="732.8567,-303 428.0124,-303 428.0124,-267 732.8567,-267 732.8567,-303"/>
<text text-anchor="middle" x="580.4346" y="-280.8" font-family="Times,serif" font-size="14.00" fill="#000000">Create source in the name of the connected account</text>
</g>
<!-- check_card_type&#45;&gt;Create source in the name of the connected account -->
<g id="edge6" class="edge">
<title>check_card_type&#45;&gt;Create source in the name of the connected account</title>
<path fill="none" stroke="#000000" d="M467.9853,-360.4396C486.9408,-354.5773 509.1767,-346.1774 527.4346,-335 538.2822,-328.3591 548.7846,-319.2217 557.5397,-310.5733"/>
<polygon fill="#000000" stroke="#000000" points="560.277,-312.7792 564.7484,-303.1741 555.2631,-307.8944 560.277,-312.7792"/>
<text text-anchor="middle" x="572.0605" y="-323.8" font-family="Times,serif" font-size="14.00" fill="#000000">3d secure</text>
</g>
<!-- Create Charge using API endpoint -->
<g id="node9" class="node">
<title>Create Charge using API endpoint</title>
<polygon fill="none" stroke="#000000" points="512.2715,-249 304.5976,-249 304.5976,-213 512.2715,-213 512.2715,-249"/>
<text text-anchor="middle" x="408.4346" y="-226.8" font-family="Times,serif" font-size="14.00" fill="#000000">Create Charge using API endpoint</text>
</g>
<!-- check_card_type&#45;&gt;Create Charge using API endpoint -->
<g id="edge7" class="edge">
<title>check_card_type&#45;&gt;Create Charge using API endpoint</title>
<path fill="none" stroke="#000000" d="M410.2451,-355.6166C405.1377,-349.7142 400.1347,-342.566 397.4688,-335 388.7577,-310.2776 393.3598,-280.3625 399.0294,-258.9748"/>
<polygon fill="#000000" stroke="#000000" points="402.4344,-259.7989 401.8448,-249.2205 395.7089,-257.8577 402.4344,-259.7989"/>
<text text-anchor="middle" x="461.4175" y="-323.8" font-family="Times,serif" font-size="14.00" fill="#000000">3d secure unsupported</text>
</g>
<!-- booking_status -->
<g id="node3" class="node">
<title>booking_status</title>
<polygon fill="none" stroke="#000000" points="576.4346,-122 486.3772,-104 576.4346,-86 666.4919,-104 576.4346,-122"/>
<text text-anchor="middle" x="576.4346" y="-99.8" font-family="Times,serif" font-size="14.00" fill="#000000">booking_status</text>
</g>
<!-- Show confirmation page -->
<g id="node12" class="node">
<title>Show confirmation page</title>
<polygon fill="none" stroke="#000000" points="152.8038,-36 .0654,-36 .0654,0 152.8038,0 152.8038,-36"/>
<text text-anchor="middle" x="76.4346" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">Show confirmation page</text>
</g>
<!-- booking_status&#45;&gt;Show confirmation page -->
<g id="edge13" class="edge">
<title>booking_status&#45;&gt;Show confirmation page</title>
<path fill="none" stroke="#000000" d="M521.6947,-96.8956C470.9656,-90.1274 393.4547,-79.3173 326.4355,-68 255.9432,-56.0962 236.3048,-51.2687 163.0746,-36.3276"/>
<polygon fill="#000000" stroke="#000000" points="163.3745,-32.8169 152.8774,-34.2524 161.9786,-39.6763 163.3745,-32.8169"/>
<text text-anchor="middle" x="371.4341" y="-56.8" font-family="Times,serif" font-size="14.00" fill="#000000">status = booked</text>
</g>
<!-- Show page Payment is under verification -->
<g id="node13" class="node">
<title>Show page Payment is under verification</title>
<polygon fill="none" stroke="#000000" points="416.2247,-36 170.6444,-36 170.6444,0 416.2247,0 416.2247,-36"/>
<text text-anchor="middle" x="293.4346" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">Show page Payment is under verification</text>
</g>
<!-- booking_status&#45;&gt;Show page Payment is under verification -->
<g id="edge14" class="edge">
<title>booking_status&#45;&gt;Show page Payment is under verification</title>
<path fill="none" stroke="#000000" d="M540.5924,-93.108C496.0444,-79.5705 419.0353,-56.1684 362.7892,-39.076"/>
<polygon fill="#000000" stroke="#000000" points="363.4797,-35.6278 352.894,-36.069 361.4443,-42.3254 363.4797,-35.6278"/>
<text text-anchor="middle" x="498.3789" y="-56.8" font-family="Times,serif" font-size="14.00" fill="#000000">status = pending</text>
</g>
<!-- Show waiting for availability confirmation page -->
<g id="node14" class="node">
<title>Show waiting for availability confirmation page</title>
<polygon fill="none" stroke="#000000" points="718.6008,-36 434.2684,-36 434.2684,0 718.6008,0 718.6008,-36"/>
<text text-anchor="middle" x="576.4346" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">Show waiting for availability confirmation page</text>
</g>
<!-- booking_status&#45;&gt;Show waiting for availability confirmation page -->
<g id="edge15" class="edge">
<title>booking_status&#45;&gt;Show waiting for availability confirmation page</title>
<path fill="none" stroke="#000000" d="M576.4346,-85.7616C576.4346,-74.3597 576.4346,-59.4342 576.4346,-46.494"/>
<polygon fill="#000000" stroke="#000000" points="579.9347,-46.2121 576.4346,-36.2121 572.9347,-46.2121 579.9347,-46.2121"/>
<text text-anchor="middle" x="671.7583" y="-56.8" font-family="Times,serif" font-size="14.00" fill="#000000">status = waiting_for_confirmation</text>
</g>
<!-- Show payment failed page -->
<g id="node15" class="node">
<title>Show payment failed page</title>
<polygon fill="none" stroke="#000000" points="901.835,-36 737.0341,-36 737.0341,0 901.835,0 901.835,-36"/>
<text text-anchor="middle" x="819.4346" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">Show payment failed page</text>
</g>
<!-- booking_status&#45;&gt;Show payment failed page -->
<g id="edge16" class="edge">
<title>booking_status&#45;&gt;Show payment failed page</title>
<path fill="none" stroke="#000000" d="M633.5218,-97.397C682.272,-91.0468 748.0979,-80.5731 771.4346,-68 782.4137,-62.0848 792.3703,-52.764 800.3329,-43.7647"/>
<polygon fill="#000000" stroke="#000000" points="803.0672,-45.9509 806.7926,-36.0326 797.6951,-41.4629 803.0672,-45.9509"/>
<text text-anchor="middle" x="882.7896" y="-56.8" font-family="Times,serif" font-size="14.00" fill="#000000">payment_status = canceled/failed</text>
</g>
<!-- Show canceled booking -->
<g id="node16" class="node">
<title>Show canceled booking</title>
<polygon fill="none" stroke="#000000" points="1089.1799,-36 939.6892,-36 939.6892,0 1089.1799,0 1089.1799,-36"/>
<text text-anchor="middle" x="1014.4346" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">Show canceled booking</text>
</g>
<!-- booking_status&#45;&gt;Show canceled booking -->
<g id="edge17" class="edge">
<title>booking_status&#45;&gt;Show canceled booking</title>
<path fill="none" stroke="#000000" d="M650.8168,-100.8051C759.7407,-95.6106 952.7728,-84.2539 980.4346,-68 989.4357,-62.711 996.5745,-53.9853 1001.9395,-45.2913"/>
<polygon fill="#000000" stroke="#000000" points="1005.0895,-46.8285 1006.8921,-36.3881 998.9722,-43.4256 1005.0895,-46.8285"/>
<text text-anchor="middle" x="1134.5029" y="-56.8" font-family="Times,serif" font-size="14.00" fill="#000000">status = canceled &amp;&amp; payment_status != canceled</text>
</g>
<!-- Credit Card -->
<g id="node5" class="node">
<title>Credit Card</title>
<polygon fill="none" stroke="#000000" points="558.1421,-570 476.727,-570 476.727,-534 558.1421,-534 558.1421,-570"/>
<text text-anchor="middle" x="517.4346" y="-547.8" font-family="Times,serif" font-size="14.00" fill="#000000">Credit Card</text>
</g>
<!-- Stripe Connect&#45;&gt;Credit Card -->
<g id="edge2" class="edge">
<title>Stripe Connect&#45;&gt;Credit Card</title>
<path fill="none" stroke="#000000" d="M554.3222,-606.9551C548.5505,-598.3564 541.5341,-587.9034 535.1764,-578.4316"/>
<polygon fill="#000000" stroke="#000000" points="538.0567,-576.4427 529.5774,-570.0904 532.2446,-580.344 538.0567,-576.4427"/>
</g>
<!-- iDeal -->
<g id="node6" class="node">
<title>iDeal</title>
<polygon fill="none" stroke="#000000" points="636.4346,-516 582.4346,-516 582.4346,-480 636.4346,-480 636.4346,-516"/>
<text text-anchor="middle" x="609.4346" y="-493.8" font-family="Times,serif" font-size="14.00" fill="#000000">iDeal</text>
</g>
<!-- Stripe Connect&#45;&gt;iDeal -->
<g id="edge3" class="edge">
<title>Stripe Connect&#45;&gt;iDeal</title>
<path fill="none" stroke="#000000" d="M572.5954,-606.804C579.7799,-585.5848 591.7325,-550.2829 600.0678,-525.6646"/>
<polygon fill="#000000" stroke="#000000" points="603.3932,-526.7565 603.2851,-516.1622 596.763,-524.5116 603.3932,-526.7565"/>
</g>
<!-- Create card token in the name of the connected account -->
<g id="node7" class="node">
<title>Create card token in the name of the connected account</title>
<polygon fill="none" stroke="#000000" points="589.512,-462 263.3571,-462 263.3571,-426 589.512,-426 589.512,-462"/>
<text text-anchor="middle" x="426.4346" y="-439.8" font-family="Times,serif" font-size="14.00" fill="#000000">Create card token in the name of the connected account</text>
</g>
<!-- Credit Card&#45;&gt;Create card token in the name of the connected account -->
<g id="edge4" class="edge">
<title>Credit Card&#45;&gt;Create card token in the name of the connected account</title>
<path fill="none" stroke="#000000" d="M501.9977,-533.6793C487.2011,-516.1185 464.7269,-489.4459 448.1323,-469.7512"/>
<polygon fill="#000000" stroke="#000000" points="450.7636,-467.4422 441.6435,-462.0502 445.4105,-471.9527 450.7636,-467.4422"/>
</g>
<!-- iDeal&#45;&gt;Create source in the name of the connected account -->
<g id="edge9" class="edge">
<title>iDeal&#45;&gt;Create source in the name of the connected account</title>
<path fill="none" stroke="#000000" d="M611.6554,-479.9233C615.0223,-447.3345 619.369,-376.9233 602.4346,-321 601.5297,-318.0119 600.3163,-315.0207 598.9221,-312.1105"/>
<polygon fill="#000000" stroke="#000000" points="601.9001,-310.2626 594.0094,-303.1925 595.7689,-313.6402 601.9001,-310.2626"/>
</g>
<!-- Create card token in the name of the connected account&#45;&gt;check_card_type -->
<g id="edge5" class="edge">
<title>Create card token in the name of the connected account&#45;&gt;check_card_type</title>
<path fill="none" stroke="#000000" d="M426.4346,-425.9551C426.4346,-417.8828 426.4346,-408.1764 426.4346,-399.1817"/>
<polygon fill="#000000" stroke="#000000" points="429.9347,-399.0903 426.4346,-389.0904 422.9347,-399.0904 429.9347,-399.0903"/>
</g>
<!-- Redirect to Bank/iDeal with redirect_uri -->
<g id="node10" class="node">
<title>Redirect to Bank/iDeal with redirect_uri</title>
<polygon fill="none" stroke="#000000" points="697.6906,-195 455.1786,-195 455.1786,-159 697.6906,-159 697.6906,-195"/>
<text text-anchor="middle" x="576.4346" y="-172.8" font-family="Times,serif" font-size="14.00" fill="#000000">Redirect to Bank/iDeal with redirect_uri</text>
</g>
<!-- Create source in the name of the connected account&#45;&gt;Redirect to Bank/iDeal with redirect_uri -->
<g id="edge10" class="edge">
<title>Create source in the name of the connected account&#45;&gt;Redirect to Bank/iDeal with redirect_uri</title>
<path fill="none" stroke="#000000" d="M579.756,-266.6793C579.1316,-249.821 578.1962,-224.5651 577.4771,-205.147"/>
<polygon fill="#000000" stroke="#000000" points="580.9709,-204.9137 577.1031,-195.0502 573.9757,-205.1729 580.9709,-204.9137"/>
</g>
<!-- Create Charge using API endpoint&#45;&gt;booking_status -->
<g id="edge8" class="edge">
<title>Create Charge using API endpoint&#45;&gt;booking_status</title>
<path fill="none" stroke="#000000" d="M414.0888,-212.8286C419.906,-196.7855 430.4005,-173.7204 446.4346,-159 468.5246,-138.7198 499.1993,-125.2609 525.2045,-116.7358"/>
<polygon fill="#000000" stroke="#000000" points="526.4113,-120.0258 534.915,-113.7061 524.3264,-113.3435 526.4113,-120.0258"/>
</g>
<!-- Redirect to Bank/iDeal with redirect_uri&#45;&gt;booking_status -->
<g id="edge11" class="edge">
<title>Redirect to Bank/iDeal with redirect_uri&#45;&gt;booking_status</title>
<path fill="none" stroke="#000000" d="M576.4346,-158.9551C576.4346,-150.8828 576.4346,-141.1764 576.4346,-132.1817"/>
<polygon fill="#000000" stroke="#000000" points="579.9347,-132.0903 576.4346,-122.0904 572.9347,-132.0904 579.9347,-132.0903"/>
</g>
<!-- Show processing payment -->
<g id="node11" class="node">
<title>Show processing payment</title>
<polygon fill="none" stroke="#000000" points="878.9141,-195 715.9551,-195 715.9551,-159 878.9141,-159 878.9141,-195"/>
<text text-anchor="middle" x="797.4346" y="-172.8" font-family="Times,serif" font-size="14.00" fill="#000000">Show processing payment</text>
</g>
<!-- Show processing payment&#45;&gt;booking_status -->
<g id="edge12" class="edge">
<title>Show processing payment&#45;&gt;booking_status</title>
<path fill="none" stroke="#000000" d="M742.8053,-158.9551C704.9503,-146.4509 655.2237,-130.0254 620.0248,-118.3986"/>
<polygon fill="#000000" stroke="#000000" points="621.0973,-115.0669 610.5041,-115.2537 618.9017,-121.7137 621.0973,-115.0669"/>
</g>
</g>
</svg>
