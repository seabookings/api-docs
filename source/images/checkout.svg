<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: connect_flow Pages: 1 -->
<svg width="1283pt" height="692pt"
 viewBox="0.00 0.00 1282.57 691.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 687.6)">
<title>connect_flow</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-687.6 1278.5713,-687.6 1278.5713,4 -4,4"/>
<!-- qi -->
<g id="node1" class="node">
<title>qi</title>
<ellipse fill="#000000" stroke="#000000" cx="734.4346" cy="-681.8" rx="1.8" ry="1.8"/>
</g>
<!-- Stripe Connect -->
<g id="node4" class="node">
<title>Stripe Connect</title>
<polygon fill="none" stroke="#000000" points="784.0321,-643 684.8371,-643 684.8371,-607 784.0321,-607 784.0321,-643"/>
<text text-anchor="middle" x="734.4346" y="-620.8" font-family="Times,serif" font-size="14.00" fill="#000000">Stripe Connect</text>
</g>
<!-- qi&#45;&gt;Stripe Connect -->
<g id="edge1" class="edge">
<title>qi&#45;&gt;Stripe Connect</title>
<path fill="none" stroke="#000000" d="M734.4346,-679.9102C734.4346,-675.5478 734.4346,-664.2893 734.4346,-653.0942"/>
<polygon fill="#000000" stroke="#000000" points="737.9347,-653.0304 734.4346,-643.0304 730.9347,-653.0304 737.9347,-653.0304"/>
</g>
<!-- check_card_type -->
<g id="node2" class="node">
<title>check_card_type</title>
<polygon fill="none" stroke="#000000" points="654.4346,-389 555.4113,-371 654.4346,-353 753.4579,-371 654.4346,-389"/>
<text text-anchor="middle" x="654.4346" y="-366.8" font-family="Times,serif" font-size="14.00" fill="#000000">check_card_type</text>
</g>
<!-- Create source -->
<g id="node8" class="node">
<title>Create source</title>
<polygon fill="none" stroke="#000000" points="759.5049,-303 667.3642,-303 667.3642,-267 759.5049,-267 759.5049,-303"/>
<text text-anchor="middle" x="713.4346" y="-280.8" font-family="Times,serif" font-size="14.00" fill="#000000">Create source</text>
</g>
<!-- check_card_type&#45;&gt;Create source -->
<g id="edge6" class="edge">
<title>check_card_type&#45;&gt;Create source</title>
<path fill="none" stroke="#000000" d="M672.4553,-356.0949C679.0163,-350.034 686.1194,-342.6569 691.4346,-335 696.0973,-328.283 700.1147,-320.4191 703.3926,-312.9426"/>
<polygon fill="#000000" stroke="#000000" points="706.7222,-314.0471 707.2678,-303.4663 700.243,-311.3975 706.7222,-314.0471"/>
<text text-anchor="middle" x="726.0605" y="-323.8" font-family="Times,serif" font-size="14.00" fill="#000000">3d secure</text>
</g>
<!-- Create Charge using API endpoint -->
<g id="node9" class="node">
<title>Create Charge using API endpoint</title>
<polygon fill="none" stroke="#000000" points="668.2715,-249 460.5976,-249 460.5976,-213 668.2715,-213 668.2715,-249"/>
<text text-anchor="middle" x="564.4346" y="-226.8" font-family="Times,serif" font-size="14.00" fill="#000000">Create Charge using API endpoint</text>
</g>
<!-- check_card_type&#45;&gt;Create Charge using API endpoint -->
<g id="edge7" class="edge">
<title>check_card_type&#45;&gt;Create Charge using API endpoint</title>
<path fill="none" stroke="#000000" d="M613.9153,-360.2444C591.8852,-353.4895 567.8517,-344.3165 561.4688,-335 546.3298,-312.9033 549.7246,-281.5101 555.2613,-259.0047"/>
<polygon fill="#000000" stroke="#000000" points="558.6383,-259.924 557.897,-249.3552 551.8857,-258.0796 558.6383,-259.924"/>
<text text-anchor="middle" x="625.4175" y="-323.8" font-family="Times,serif" font-size="14.00" fill="#000000">3d secure unsupported</text>
</g>
<!-- booking_status -->
<g id="node3" class="node">
<title>booking_status</title>
<polygon fill="none" stroke="#000000" points="576.4346,-122 486.3772,-104 576.4346,-86 666.4919,-104 576.4346,-122"/>
<text text-anchor="middle" x="576.4346" y="-99.8" font-family="Times,serif" font-size="14.00" fill="#000000">booking_status</text>
</g>
<!-- Show confirmation page -->
<g id="node11" class="node">
<title>Show confirmation page</title>
<polygon fill="none" stroke="#000000" points="152.8038,-36 .0654,-36 .0654,0 152.8038,0 152.8038,-36"/>
<text text-anchor="middle" x="76.4346" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">Show confirmation page</text>
</g>
<!-- booking_status&#45;&gt;Show confirmation page -->
<g id="edge12" class="edge">
<title>booking_status&#45;&gt;Show confirmation page</title>
<path fill="none" stroke="#000000" d="M521.6947,-96.8956C470.9656,-90.1274 393.4547,-79.3173 326.4355,-68 255.9432,-56.0962 236.3048,-51.2687 163.0746,-36.3276"/>
<polygon fill="#000000" stroke="#000000" points="163.3745,-32.8169 152.8774,-34.2524 161.9786,-39.6763 163.3745,-32.8169"/>
<text text-anchor="middle" x="371.4341" y="-56.8" font-family="Times,serif" font-size="14.00" fill="#000000">status = booked</text>
</g>
<!-- Show page Payment is under verification -->
<g id="node12" class="node">
<title>Show page Payment is under verification</title>
<polygon fill="none" stroke="#000000" points="416.2247,-36 170.6444,-36 170.6444,0 416.2247,0 416.2247,-36"/>
<text text-anchor="middle" x="293.4346" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">Show page Payment is under verification</text>
</g>
<!-- booking_status&#45;&gt;Show page Payment is under verification -->
<g id="edge13" class="edge">
<title>booking_status&#45;&gt;Show page Payment is under verification</title>
<path fill="none" stroke="#000000" d="M540.5924,-93.108C496.0444,-79.5705 419.0353,-56.1684 362.7892,-39.076"/>
<polygon fill="#000000" stroke="#000000" points="363.4797,-35.6278 352.894,-36.069 361.4443,-42.3254 363.4797,-35.6278"/>
<text text-anchor="middle" x="498.3789" y="-56.8" font-family="Times,serif" font-size="14.00" fill="#000000">status = pending</text>
</g>
<!-- Show waiting for availability confirmation page -->
<g id="node13" class="node">
<title>Show waiting for availability confirmation page</title>
<polygon fill="none" stroke="#000000" points="718.6008,-36 434.2684,-36 434.2684,0 718.6008,0 718.6008,-36"/>
<text text-anchor="middle" x="576.4346" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">Show waiting for availability confirmation page</text>
</g>
<!-- booking_status&#45;&gt;Show waiting for availability confirmation page -->
<g id="edge14" class="edge">
<title>booking_status&#45;&gt;Show waiting for availability confirmation page</title>
<path fill="none" stroke="#000000" d="M576.4346,-85.7616C576.4346,-74.3597 576.4346,-59.4342 576.4346,-46.494"/>
<polygon fill="#000000" stroke="#000000" points="579.9347,-46.2121 576.4346,-36.2121 572.9347,-46.2121 579.9347,-46.2121"/>
<text text-anchor="middle" x="671.7583" y="-56.8" font-family="Times,serif" font-size="14.00" fill="#000000">status = waiting_for_confirmation</text>
</g>
<!-- Show payment failed page -->
<g id="node14" class="node">
<title>Show payment failed page</title>
<polygon fill="none" stroke="#000000" points="901.835,-36 737.0341,-36 737.0341,0 901.835,0 901.835,-36"/>
<text text-anchor="middle" x="819.4346" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">Show payment failed page</text>
</g>
<!-- booking_status&#45;&gt;Show payment failed page -->
<g id="edge15" class="edge">
<title>booking_status&#45;&gt;Show payment failed page</title>
<path fill="none" stroke="#000000" d="M633.5218,-97.397C682.272,-91.0468 748.0979,-80.5731 771.4346,-68 782.4137,-62.0848 792.3703,-52.764 800.3329,-43.7647"/>
<polygon fill="#000000" stroke="#000000" points="803.0672,-45.9509 806.7926,-36.0326 797.6951,-41.4629 803.0672,-45.9509"/>
<text text-anchor="middle" x="882.7896" y="-56.8" font-family="Times,serif" font-size="14.00" fill="#000000">payment_status = canceled/failed</text>
</g>
<!-- Show canceled booking -->
<g id="node15" class="node">
<title>Show canceled booking</title>
<polygon fill="none" stroke="#000000" points="1089.1799,-36 939.6892,-36 939.6892,0 1089.1799,0 1089.1799,-36"/>
<text text-anchor="middle" x="1014.4346" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">Show canceled booking</text>
</g>
<!-- booking_status&#45;&gt;Show canceled booking -->
<g id="edge16" class="edge">
<title>booking_status&#45;&gt;Show canceled booking</title>
<path fill="none" stroke="#000000" d="M650.8168,-100.8051C759.7407,-95.6106 952.7728,-84.2539 980.4346,-68 989.4357,-62.711 996.5745,-53.9853 1001.9395,-45.2913"/>
<polygon fill="#000000" stroke="#000000" points="1005.0895,-46.8285 1006.8921,-36.3881 998.9722,-43.4256 1005.0895,-46.8285"/>
<text text-anchor="middle" x="1134.5029" y="-56.8" font-family="Times,serif" font-size="14.00" fill="#000000">status = canceled &amp;&amp; payment_status != canceled</text>
</g>
<!-- Credit Card -->
<g id="node5" class="node">
<title>Credit Card</title>
<polygon fill="none" stroke="#000000" points="739.1421,-570 657.727,-570 657.727,-534 739.1421,-534 739.1421,-570"/>
<text text-anchor="middle" x="698.4346" y="-547.8" font-family="Times,serif" font-size="14.00" fill="#000000">Credit Card</text>
</g>
<!-- Stripe Connect&#45;&gt;Credit Card -->
<g id="edge2" class="edge">
<title>Stripe Connect&#45;&gt;Credit Card</title>
<path fill="none" stroke="#000000" d="M725.5357,-606.9551C721.4251,-598.6196 716.4551,-588.5416 711.8996,-579.3042"/>
<polygon fill="#000000" stroke="#000000" points="714.9179,-577.511 707.3558,-570.0904 708.6398,-580.6071 714.9179,-577.511"/>
</g>
<!-- iDeal -->
<g id="node6" class="node">
<title>iDeal</title>
<polygon fill="none" stroke="#000000" points="802.4346,-516 748.4346,-516 748.4346,-480 802.4346,-480 802.4346,-516"/>
<text text-anchor="middle" x="775.4346" y="-493.8" font-family="Times,serif" font-size="14.00" fill="#000000">iDeal</text>
</g>
<!-- Stripe Connect&#45;&gt;iDeal -->
<g id="edge3" class="edge">
<title>Stripe Connect&#45;&gt;iDeal</title>
<path fill="none" stroke="#000000" d="M740.3089,-606.804C747.1287,-585.6791 758.4546,-550.5964 766.3973,-525.9935"/>
<polygon fill="#000000" stroke="#000000" points="769.8296,-526.7539 769.5712,-516.1622 763.1681,-524.6033 769.8296,-526.7539"/>
</g>
<!-- Create card token -->
<g id="node7" class="node">
<title>Create card token</title>
<polygon fill="none" stroke="#000000" points="743.6595,-462 629.2096,-462 629.2096,-426 743.6595,-426 743.6595,-462"/>
<text text-anchor="middle" x="686.4346" y="-439.8" font-family="Times,serif" font-size="14.00" fill="#000000">Create card token</text>
</g>
<!-- Credit Card&#45;&gt;Create card token -->
<g id="edge4" class="edge">
<title>Credit Card&#45;&gt;Create card token</title>
<path fill="none" stroke="#000000" d="M696.3989,-533.6793C694.5258,-516.821 691.7196,-491.5651 689.562,-472.147"/>
<polygon fill="#000000" stroke="#000000" points="693.0231,-471.6025 688.4401,-462.0502 686.066,-472.3755 693.0231,-471.6025"/>
</g>
<!-- iDeal&#45;&gt;Create source -->
<g id="edge9" class="edge">
<title>iDeal&#45;&gt;Create source</title>
<path fill="none" stroke="#000000" d="M778.0862,-479.9459C782.1098,-446.1681 786.4099,-372.2112 756.4346,-321 754.1599,-317.1138 751.3036,-313.4568 748.1501,-310.073"/>
<polygon fill="#000000" stroke="#000000" points="750.5272,-307.5034 740.8823,-303.1187 745.6878,-312.561 750.5272,-307.5034"/>
</g>
<!-- Create card token&#45;&gt;check_card_type -->
<g id="edge5" class="edge">
<title>Create card token&#45;&gt;check_card_type</title>
<path fill="none" stroke="#000000" d="M678.5245,-425.9551C674.7332,-417.3062 670.1196,-406.7814 665.9485,-397.2661"/>
<polygon fill="#000000" stroke="#000000" points="669.0353,-395.59 661.8149,-387.8365 662.6242,-398.4004 669.0353,-395.59"/>
</g>
<!-- Redirect to Bank/iDeal with redirect_uri -->
<g id="node10" class="node">
<title>Redirect to Bank/iDeal with redirect_uri</title>
<polygon fill="none" stroke="#000000" points="834.6906,-195 592.1786,-195 592.1786,-159 834.6906,-159 834.6906,-195"/>
<text text-anchor="middle" x="713.4346" y="-172.8" font-family="Times,serif" font-size="14.00" fill="#000000">Redirect to Bank/iDeal with redirect_uri</text>
</g>
<!-- Create source&#45;&gt;Redirect to Bank/iDeal with redirect_uri -->
<g id="edge10" class="edge">
<title>Create source&#45;&gt;Redirect to Bank/iDeal with redirect_uri</title>
<path fill="none" stroke="#000000" d="M713.4346,-266.6793C713.4346,-249.821 713.4346,-224.5651 713.4346,-205.147"/>
<polygon fill="#000000" stroke="#000000" points="716.9347,-205.0501 713.4346,-195.0502 709.9347,-205.0502 716.9347,-205.0501"/>
</g>
<!-- Create Charge using API endpoint&#45;&gt;booking_status -->
<g id="edge8" class="edge">
<title>Create Charge using API endpoint&#45;&gt;booking_status</title>
<path fill="none" stroke="#000000" d="M566.1539,-212.804C568.1523,-191.654 571.4727,-156.5128 573.7978,-131.9055"/>
<polygon fill="#000000" stroke="#000000" points="577.3008,-132.0377 574.7571,-121.7528 570.3319,-131.3792 577.3008,-132.0377"/>
</g>
<!-- Redirect to Bank/iDeal with redirect_uri&#45;&gt;booking_status -->
<g id="edge11" class="edge">
<title>Redirect to Bank/iDeal with redirect_uri&#45;&gt;booking_status</title>
<path fill="none" stroke="#000000" d="M679.5694,-158.9551C658.4483,-147.7007 631.3654,-133.2697 610.2531,-122.0201"/>
<polygon fill="#000000" stroke="#000000" points="611.7825,-118.8692 601.3112,-117.2555 608.4907,-125.0469 611.7825,-118.8692"/>
</g>
</g>
</svg>
